<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jusbrasil - Prot√≥tipo Jus IA</title>
    <style>
        :root {
            --primary: #007A5F;
            --primary-hover: #00664F;
            --bg-light: #F8FAFC;
            --text-main: #0F172A;
            --text-sub: #5C6F8A;
            --border: #CCD5E1;
            --white: #ffffff;
            --yellow: #FFCE00;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            color: var(--text-main);
            background-color: var(--white);
            line-height: 1.5;
            overflow-x: hidden;
        }

        /* Utils */
        .hidden { display: none !important; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .gap-2 { gap: 0.5rem; }
        .gap-4 { gap: 1rem; }
        .w-full { width: 100%; }
        .max-w-980 { max-width: 980px; margin: 0 auto; }

        /* Experiment Switcher */
        #exp-switcher {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 40px;
            background: #000;
            color: #fff;
            display: flex;
            align-items: center;
            padding: 0 1rem;
            z-index: 1000;
            font-size: 11px;
            font-weight: bold;
            border-bottom: 1px solid #333;
        }

        .switcher-btn {
            background: #222;
            color: #aaa;
            border: none;
            padding: 4px 10px;
            margin-left: 5px;
            border-radius: 4px;
            cursor: pointer;
            text-transform: uppercase;
        }

        .switcher-btn.active {
            background: var(--primary);
            color: white;
        }

        /* Header */
        header {
            border-bottom: 1px solid var(--border);
            margin-top: 40px;
        }

        .header-top {
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1rem;
        }

        .logo {
            font-weight: 800;
            font-size: 20px;
            color: #2B3950;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .search-bar {
            flex: 1;
            max-width: 500px;
            background: #F0F4F7;
            height: 44px;
            border-radius: 22px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            margin: 0 2rem;
        }

        .search-bar input {
            background: transparent;
            border: none;
            outline: none;
            flex: 1;
            font-size: 14px;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            background: var(--yellow);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 13px;
        }

        nav {
            height: 48px;
            display: flex;
            align-items: center;
            padding: 0 1rem;
            overflow-x: auto;
            white-space: nowrap;
            border-bottom: 1px solid var(--border);
        }

        nav a {
            text-decoration: none;
            color: #2B3950;
            font-size: 14px;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 6px;
        }

        nav a.active {
            background: #EAF6F3;
            color: var(--primary);
        }

        /* Layout */
        .container {
            display: flex;
            padding: 3rem 1rem;
        }

        .main-content {
            flex: 1;
            padding-right: 2rem;
            border-right: 1px solid var(--border);
        }

        .sidebar {
            width: 320px;
            padding-left: 1.5rem;
        }

        /* Typography */
        h1 { font-size: 28px; font-weight: 600; line-height: 1.3; margin-bottom: 2rem; }
        h2 { font-size: 18px; font-weight: 700; margin-bottom: 1rem; }
        .tag { background: #F1F5F9; padding: 4px 10px; border-radius: 20px; font-size: 13px; color: #2B3950; margin-right: 5px; }

        /* Buttons */
        .btn-primary {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 1px solid var(--primary);
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        /* Experiments */
        .exp-a-box {
            background: var(--bg-light);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .exp-b-box {
            border-bottom: 1px solid var(--border);
            padding-bottom: 2rem;
            margin-bottom: 2rem;
        }

        .badge-new {
            background: #EAF6F3;
            color: var(--primary);
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 10px;
            margin-bottom: 8px;
            display: inline-block;
        }

        #exp-c-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid var(--border);
            padding: 1.25rem;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
            z-index: 500;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        #exp-c-bar.visible { transform: translateY(0); }

        #exp-d-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 380px;
            background: white;
            border: 1px solid var(--border);
            border-radius: 20px;
            box-shadow: 0 4px 32px rgba(0,0,0,0.1);
            padding: 1.5rem;
            z-index: 600;
            transition: all 0.5s ease;
        }

        #exp-d-widget.collapsed { height: 70px; overflow: hidden; cursor: pointer; }
        #exp-d-widget.collapsed .widget-content { opacity: 0; }

        /* Jus IA View */
        #jus-ia-view {
            position: fixed;
            top: 40px;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            z-index: 2000;
            display: flex;
        }

        .ia-sidebar {
            width: 280px;
            background: var(--bg-light);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
        }

        .ia-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .ia-chat-area {
            flex: 1;
            overflow-y: auto;
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        .ia-input-container {
            padding: 1.5rem;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        .ia-input-box {
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 1rem;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .ia-input-box input {
            width: 100%;
            border: none;
            outline: none;
            font-size: 15px;
        }

        .streaming-item {
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.5s ease;
            margin-bottom: 1.5rem;
        }

        .streaming-item.visible { opacity: 1; transform: translateY(0); }

        /* Sticky Bar */
        #sticky-bar {
            position: fixed;
            top: 40px;
            left: 0;
            right: 0;
            height: 64px;
            background: white;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            padding: 0 1rem;
            z-index: 800;
            transform: translateY(-100%);
            transition: transform 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        #sticky-bar.visible { transform: translateY(0); }

        /* Animations */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 122, 95, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(0, 122, 95, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 122, 95, 0); }
        }
        .pulse { animation: pulse 2s infinite; }

    </style>
</head>
<body>

    <!-- Experiment Switcher -->
    <div id="exp-switcher">
        <span>A/B TESTING SWITCHER</span>
        <button class="switcher-btn" onclick="setExp('A')">Variante A</button>
        <button class="switcher-btn active" onclick="setExp('B')">Variante B</button>
        <button class="switcher-btn" onclick="setExp('C')">Variante C</button>
        <button class="switcher-btn" onclick="setExp('D')">Variante D</button>
        <button class="switcher-btn" onclick="toggleJusIA(true)" style="background: #444; color: #fff; margin-left: 20px;">Jus IA</button>
    </div>

    <!-- Sticky Bar -->
    <div id="sticky-bar">
        <div class="max-w-980 w-full flex items-center justify-between">
            <div class="flex gap-2">
                <button class="btn-primary" style="padding: 6px 12px; font-size: 13px;">Ementa</button>
                <button class="btn-secondary" style="padding: 6px 12px; font-size: 13px;">Jurisprud√™ncia semelhante</button>
            </div>
            <div class="flex gap-4">
                <span>üîñ</span>
                <span>‚ãÆ</span>
            </div>
        </div>
    </div>

    <!-- Main App View -->
    <div id="app-view">
        <header>
            <div class="header-top max-w-980">
                <div class="logo">
                    <span style="color: var(--primary)">J</span>usbrasil
                </div>
                <div class="search-bar">
                    <input type="text" placeholder="Pesquisar no Jusbrasil">
                    <span>üîç</span>
                </div>
                <div class="user-avatar">PO</div>
            </div>
            <nav class="max-w-980">
                <a href="#" class="active">Para voc√™</a>
                <a href="#">Consulta processual</a>
                <a href="#">Jurisprud√™ncia</a>
                <a href="#">Doutrina</a>
                <a href="#">Artigos</a>
                <a href="#">Not√≠cias</a>
            </nav>
        </header>

        <div class="container max-w-980">
            <div class="main-content">
                <div class="flex gap-2 mb-4">
                    <span class="tag">2¬∫ grau</span>
                    <span class="tag">Repercuss√£o geral</span>
                </div>
                <h1>Superior Tribunal de Justi√ßa STJ - AGRAVO INTERNO NO AREsp 1799837 SP</h1>

                <div class="flex gap-4 mb-8">
                    <button class="btn-primary">Ementa</button>
                    <button class="btn-secondary">Jurisprud√™ncia semelhante</button>
                </div>

                <!-- Experiment A -->
                <div id="exp-a" class="exp-a-box hidden">
                    <div>
                        <h3 style="font-size: 16px; margin-bottom: 4px;">Entenda o resultado deste caso</h3>
                        <p style="color: var(--text-sub); font-size: 13px;">Descubra os pontos centrais do processo e poss√≠veis desdobramentos.</p>
                    </div>
                    <button class="btn-primary" onclick="toggleJusIA(true)">Analisar processo</button>
                </div>

                <div style="font-family: Georgia, serif; font-size: 17px; color: #2B3950; line-height: 1.7;">
                    <p style="margin-bottom: 1.5rem;"><strong>EMENTA:</strong> Agravo regimental em habeas corpus. Penal. Latroc√≠nio. Pluralidade de v√≠timas. Concurso formal impr√≥prio n√£o configurado. Delito praticado com unidade de des√≠gnios.</p>
                    <p style="margin-bottom: 1.5rem;">1. O reconhecimento do concurso formal pr√≥prio no delito de latroc√≠nio praticado encontra respaldo jur√≠dico na jurisprud√™ncia do Supremo Tribunal...</p>
                    <p>2. A Segunda Turma assentou, expressamente, a cognoscibilidade de habeas corpus manejado em face de decis√£o j√° transitada em julgado...</p>
                </div>
            </div>

            <div class="sidebar">
                <!-- Experiment B -->
                <div id="exp-b" class="exp-b-box">
                    <span class="badge-new">Novo</span>
                    <h2 style="font-size: 18px;">Entenda o resultado deste caso</h2>
                    <p style="color: var(--text-sub); font-size: 14px; margin-bottom: 1.5rem;">Descubra os pontos centrais do processo e poss√≠veis desdobramentos.</p>
                    <button style="color: var(--primary); font-weight: bold; border: none; background: none; cursor: pointer; display: flex; align-items: center; gap: 8px;" onclick="toggleJusIA(true)">
                        <span>‚ú®</span> Analisar processo
                    </button>
                </div>

                <h2>Detalhes</h2>
                <div style="margin-bottom: 1rem;">
                    <div style="font-weight: bold; font-size: 13px;">Processo</div>
                    <div style="color: var(--primary); font-size: 13px;">AgR HC 0000931-21.2017</div>
                </div>
                <div style="margin-bottom: 1rem;">
                    <div style="font-weight: bold; font-size: 13px;">Data de publica√ß√£o</div>
                    <div style="color: var(--text-sub); font-size: 13px;">21/05/2021</div>
                </div>

                <h2 style="margin-top: 2rem;">Andamento</h2>
                <div style="border-left: 1px solid var(--border); padding-left: 15px; margin-left: 5px;">
                    <div style="margin-bottom: 1rem; position: relative;">
                        <div style="position: absolute; left: -21px; top: 4px; width: 10px; height: 10px; border-radius: 50%; background: var(--primary);"></div>
                        <div style="font-weight: bold; font-size: 13px;">Ac√≥rd√£o</div>
                        <div style="font-size: 12px; color: var(--text-sub);">TJSP - 18/04/2023</div>
                    </div>
                </div>
            </div>
        </div>

        <footer style="background: #F9F9F9; border-top: 1px solid var(--border); padding: 3rem 0; margin-top: 4rem;">
            <div class="max-w-980 w-full flex justify-between items-center">
                <div class="logo">Jusbrasil</div>
                <div style="font-size: 12px; color: var(--text-sub);">¬© 2024 Jusbrasil. Todos os direitos reservados.</div>
            </div>
        </footer>
    </div>

    <!-- Experiment C -->
    <div id="exp-c-bar">
        <div class="max-w-980 w-full flex items-center justify-between">
            <div>
                <h3 style="font-size: 16px;">Entenda o resultado deste caso</h3>
                <p style="color: var(--text-sub); font-size: 14px;">Descubra os pontos centrais do processo.</p>
            </div>
            <button class="btn-primary" onclick="toggleJusIA(true)">Analisar processo</button>
        </div>
    </div>

    <!-- Experiment D -->
    <div id="exp-d-widget" class="hidden collapsed" onclick="handleWidgetClick(event)">
        <div class="flex justify-between items-center">
            <h3 id="widget-title" style="font-size: 16px; font-weight: 600;">Entenda o resultado deste caso</h3>
            <span id="widget-arrow">‚ñ≤</span>
        </div>
        <div class="widget-content" style="margin-top: 1rem;">
            <p style="color: var(--text-sub); font-size: 14px; margin-bottom: 1.5rem;">Descubra os pontos centrais do processo e poss√≠veis desdobramentos.</p>
            <button class="btn-primary" onclick="toggleJusIA(true)">Analisar processo</button>
        </div>
    </div>

    <!-- Jus IA View -->
    <div id="jus-ia-view" class="hidden">
        <div class="ia-sidebar">
            <div style="padding: 1.5rem; display: flex; justify-content: space-between; align-items: center;">
                <div class="logo">Jus IA</div>
                <button onclick="toggleJusIA(false)" style="border: none; background: none; cursor: pointer; font-size: 18px;">‚úï</button>
            </div>
            <div style="padding: 0 1rem; flex: 1;">
                <button class="btn-secondary w-full" style="justify-content: flex-start; margin-bottom: 1rem;">+ Nova conversa</button>
                <div style="font-size: 11px; font-weight: bold; color: var(--text-sub); text-transform: uppercase; margin: 1rem 0 0.5rem;">√öltimas conversas</div>
                <div style="font-size: 14px; padding: 8px; border-radius: 6px; cursor: pointer;" class="ia-history-item">Dano moral por atraso de voo</div>
                <div style="font-size: 14px; padding: 8px; border-radius: 6px; cursor: pointer;" class="ia-history-item">An√°lise de precedente TJSP</div>
            </div>
            <div style="padding: 1rem; border-top: 1px solid var(--border);">
                <div class="flex items-center gap-2">
                    <div class="user-avatar" style="background: #D9F99D; color: #365314;">PO</div>
                    <span style="font-weight: bold; font-size: 14px;">Pedro Oliveira</span>
                </div>
            </div>
        </div>
        <div class="ia-content">
            <div class="ia-chat-area" id="chat-messages">
                <div style="font-size: 13px; color: var(--text-sub); margin-bottom: 0.5rem;">Resposta</div>
                <div style="display: flex; align-items: center; gap: 8px; font-size: 14px; margin-bottom: 2rem;">
                    <span style="color: var(--primary);">‚úì</span> Usou: busca jur√≠dica no Jusbrasil
                </div>
                
                <div class="streaming-item">
                    <p style="font-size: 16px; color: #334155; margin-bottom: 2rem;">Para enriquecer a an√°lise, realizei uma pesquisa jurisprudencial sobre o tema, cujos resultados foram integrados ao texto.</p>
                </div>
                <div class="streaming-item">
                    <h1 style="font-size: 24px; margin-bottom: 1rem;">An√°lise Estrat√©gica: Exig√™ncia de Pr√©vio Pedido Administrativo</h1>
                </div>
                <div class="streaming-item">
                    <p style="margin-bottom: 2rem;">Esta an√°lise aborda a decis√£o do TJSP que extinguiu uma a√ß√£o por falta de interesse de agir devido √† aus√™ncia de tentativa de solu√ß√£o extrajudicial.</p>
                </div>
                <div class="streaming-item">
                    <h2 style="font-size: 20px;">N√∫cleo da Decis√£o</h2>
                    <p><strong>Tese:</strong> A aus√™ncia de pedido administrativo pr√©vio afasta o interesse de agir.</p>
                </div>
            </div>
            <div class="ia-input-container">
                <div class="ia-input-box">
                    <input type="text" placeholder="Fa√ßa uma pergunta ou continue a conversa...">
                    <div class="flex justify-between items-center" style="margin-top: 1rem;">
                        <button class="btn-secondary" style="padding: 4px 12px; font-size: 13px;">Pesquisa fundamentada</button>
                        <button class="btn-primary" style="width: 36px; height: 36px; padding: 0; justify-content: center;">‚Üë</button>
                    </div>
                </div>
                <p style="text-align: center; font-size: 11px; color: var(--text-sub); margin-top: 10px;">O Jus IA pode cometer erros. Verifique informa√ß√µes importantes.</p>
            </div>
        </div>
    </div>

    <script>
        let currentExp = 'B';

        function setExp(variant) {
            currentExp = variant;
            
            // Update Switcher UI
            document.querySelectorAll('.switcher-btn').forEach(btn => {
                btn.classList.remove('active');
                if(btn.innerText.includes(variant)) btn.classList.add('active');
            });

            // Reset all
            document.getElementById('exp-a').classList.add('hidden');
            document.getElementById('exp-b').classList.add('hidden');
            document.getElementById('exp-c-bar').classList.remove('visible');
            document.getElementById('exp-d-widget').classList.add('hidden');

            // Apply variant
            if(variant === 'A') document.getElementById('exp-a').classList.remove('hidden');
            if(variant === 'B') document.getElementById('exp-b').classList.remove('hidden');
            if(variant === 'D') {
                const widget = document.getElementById('exp-d-widget');
                widget.classList.remove('hidden');
                widget.classList.add('pulse');
                document.getElementById('widget-title').style.color = 'var(--primary)';
            }
        }

        function toggleJusIA(show) {
            const view = document.getElementById('jus-ia-view');
            if(show) {
                view.classList.remove('hidden');
                startStreaming();
            } else {
                view.classList.add('hidden');
            }
        }

        function startStreaming() {
            const items = document.querySelectorAll('.streaming-item');
            items.forEach(i => i.classList.remove('visible'));
            
            items.forEach((item, idx) => {
                setTimeout(() => {
                    item.classList.add('visible');
                }, 300 * (idx + 1));
            });
        }

        function handleWidgetClick(e) {
            const widget = document.getElementById('exp-d-widget');
            widget.classList.toggle('collapsed');
            widget.classList.remove('pulse');
            document.getElementById('widget-title').style.color = 'var(--text-main)';
            document.getElementById('widget-arrow').innerText = widget.classList.contains('collapsed') ? '‚ñ≤' : '‚ñº';
        }

        // Scroll events
        window.addEventListener('scroll', () => {
            const sticky = document.getElementById('sticky-bar');
            const barC = document.getElementById('exp-c-bar');
            
            if(window.scrollY > 400) {
                sticky.classList.add('visible');
            } else {
                sticky.classList.remove('visible');
            }

            if(currentExp === 'C' && window.scrollY > 300) {
                barC.classList.add('visible');
            } else {
                barC.classList.remove('visible');
            }
        });

        // Init
        setExp('B');
    </script>
</body>
</html>
